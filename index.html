<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ªãƒŠãƒãƒ³ã‚³â€¼ï¸ï¼</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="./manifest.json">
</head>
<body>
<script>    window.addEventListener('beforeunload', (event) => {
    event.preventDefault(); 
    event.returnValue = "ä½•ã§æ¶ˆãã†ã¨ã™ã‚‹ã®â“å«Œã„ãªã®â“"; 
});</script>
    <div id="startScreen">
        <h1 id="title">ã‚¯ãƒ³ãƒ‹ãƒãƒ³ã‚³â€¼ï¸</h1>
        <button id="startButton">ã‚¤ã‚¯â€¼ï¸ğŸ˜ğŸ¥°</button>
    </div>
    <div id="quiz" style="display: none;"></div>
    <button id="next" style="display: none;">æ¬¡ã®å•é¡Œã¸ã‚¤ã‚¯â€¼ï¸</button>
    <div id="score" class="score"></div>
    <audio id="correctSound" src="correct.mp3" preload="auto"></audio>
    <audio id="wrongSound" src="wrong.mp3" preload="auto"></audio>
    <audio id="finalSound" src="pinis.wav" preload="auto"></audio>
    <audio id="finalPerfectSound" src="4545.wav" preload="auto"></audio>
    <audio id="hoverSound" src="hover.mp3" preload="auto"></audio>
    <audio id="startSound" src="810.wav" preload="auto"></audio>
    </script>
    <script>
        const quizData = [
            {
                question: "æ„›æˆã¯ãªã‚“ã¦èª­ã¿ã¾ã™ã‹â“",
                answers: ["ã‚±ãƒ„ç©´", "ã‚ã„ãƒŠãƒª", "ç©´", "è‚‰æ£’"],
                correct: 0
            },
            {
                question: "ä¸–æ­©ç²ã®æ„å‘³ã¯â“",
                answers: ["ã‚»ãƒƒã‚¯ã‚¹ãƒ•ãƒ¬ãƒ³ãƒ‰", "ç”·æ ¹ã®å°„ç²¾", "ç©´", "ç”Ÿæ¿¡ã‚Œã‚¢ãƒŠãƒ«ã‚»ãƒƒã‚¯ã‚¹"],
                correct: 0
            },
            {
                question: "ãƒãƒ³ã‚³ã®å¹³å‡ã®å¤§ãã•ã‚’ç­”ãˆãªã•ã„",
                answers: ["å¤ªã•ãŒã»ã‚·ã„â€¼ï¸", "ã‚­ãƒã‚³â‰ï¸", "ã‚¦ãƒ³ã‚³â€¼ï¸", "ãƒãƒ³ã‚³â€¼ï¸"],
                correct: 0
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;

        document.addEventListener('DOMContentLoaded', () => {
            const curtain = document.createElement('div');
            curtain.classList.add('curtain');
            document.body.appendChild(curtain);

            document.getElementById('startSound').play();

            let imgCount = 0;
            const showImageInterval = setInterval(() => {
                if (imgCount < 5) {
                    const fullScreenImage = document.createElement('img');
                    fullScreenImage.src = '114514.jpg';
                    fullScreenImage.style.position = 'fixed';
                    fullScreenImage.style.top = '0';
                    fullScreenImage.style.left = '0';
                    fullScreenImage.style.width = '100%';
                    fullScreenImage.style.height = '100%';
                    fullScreenImage.style.zIndex = '1000';
                    document.body.appendChild(fullScreenImage);
                    
                    setTimeout(() => {
                        fullScreenImage.remove();
                    }, 1000);
                    imgCount++;
                } else {
                    clearInterval(showImageInterval);
                }
            }, 200);

            setTimeout(() => {
                curtain.remove();
                document.getElementById('startScreen').style.display = 'block';
            }, 500);
        });

        document.getElementById('startButton').onclick = () => {
            const startScreen = document.getElementById('startScreen');
            const curtain = document.createElement('div');
            curtain.classList.add('curtain');
            document.body.appendChild(curtain);

            document.getElementById('finalSound').play();
            const fullScreenImage = document.createElement('img');
            fullScreenImage.src = '114514.jpg';
            fullScreenImage.style.position = 'fixed';
            fullScreenImage.style.top = '0';
            fullScreenImage.style.left = '0';
            fullScreenImage.style.width = '100%';
            fullScreenImage.style.height = '100%';
            fullScreenImage.style.zIndex = '1000';
            document.body.appendChild(fullScreenImage);

            setTimeout(() => {
                fullScreenImage.remove();
                setTimeout(() => {
                    startScreen.style.display = 'none';
                    curtain.classList.add('curtainUp');
                    setTimeout(() => {
                        document.getElementById('quiz').style.display = 'block';
                        loadQuestion();
                        curtain.remove();
                    }, 500);
                }, 1000);
            }, 0);
        };

        function loadQuestion() {
            const quizContainer = document.getElementById('quiz');
            quizContainer.innerHTML = '';

            const currentQuestion = quizData[currentQuestionIndex];

            const questionElement = document.createElement('h2');
            questionElement.classList.add('question', 'fade-in');
            questionElement.textContent = currentQuestion.question;
            quizContainer.appendChild(questionElement);

            const answersContainer = document.createElement('div');
            answersContainer.classList.add('answers');

            currentQuestion.answers.forEach((answer, index) => {
                const answerButton = document.createElement('div');
                answerButton.textContent = answer;
                answerButton.classList.add('answer');
                answerButton.onclick = () => selectAnswer(index);
                
                answerButton.onmouseenter = () => {
                    document.getElementById('hoverSound').play();
                    answerButton.classList.add('hover');
                };
                answerButton.onmouseleave = () => {
                    answerButton.classList.remove('hover');
                };

                answersContainer.appendChild(answerButton);
            });

            quizContainer.appendChild(answersContainer);

            setTimeout(() => {
                questionElement.classList.add('show');
            }, 10);
        }

        function selectAnswer(index) {
            const currentQuestion = quizData[currentQuestionIndex];
            const answerElements = document.querySelectorAll('.answer');

            answerElements.forEach((element, i) => {
                if (i === currentQuestion.correct) {
                    element.classList.add('correct');
                } else {
                    element.classList.add('wrong');
                    element.style.animation = 'shake 0.7s';
                }
                element.onclick = null;
            });

            if (index === currentQuestion.correct) {
                score++;
                document.getElementById('correctSound').play();
            } else {
                document.getElementById('wrongSound').play();
                
                // ä¸æ­£è§£ã®å ´åˆã®å‡¦ç†
                const fullScreenImage = document.createElement('img');
                fullScreenImage.src = '114514.jpg';
                fullScreenImage.style.position = 'fixed';
                fullScreenImage.style.top = '0';
                fullScreenImage.style.left = '0';
                fullScreenImage.style.width = '100%';
                fullScreenImage.style.height = '100%';
                fullScreenImage.style.zIndex = '1000';
                document.body.appendChild(fullScreenImage);

                // ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã®å‡¦ç†
                fullScreenImage.onclick = () => {
                    fullScreenImage.remove();
                    document.getElementById('finalSound').play();
                };

                setTimeout(() => {
                    fullScreenImage.remove();
                }, 3000);
            }

            document.getElementById('next').style.display = 'block';
        }

        document.getElementById('next').onclick = () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                const curtain = document.createElement('div');
                curtain.classList.add('curtain');
                document.body.appendChild(curtain);
                
                curtain.classList.add('curtainUp');
                setTimeout(() => {
                    curtain.remove();
                    loadQuestion();
                    document.getElementById('next').style.display = 'none';
                }, 500);
            } else {
                showScore();
            }
        }

        function showScore() {
            const quizContainer = document.getElementById('quiz');
            quizContainer.innerHTML = '';
            document.getElementById('next').style.display = 'none';
            document.getElementById('title').style.display = 'none';

            const scoreMessage = score === quizData.length ? "æº€ç‚¹ãŠã‚ã§ã¨ã†ï¼" : "ã‚ˆããŒã‚“ã°ã‚Šã¾ã—ãŸï¼";
            const scoreElement = document.createElement('h2');
            scoreElement.className = 'score-message';
            scoreElement.textContent = scoreMessage;

            const scoreValue = document.createElement('h1');
            scoreValue.className = 'score-value';
            scoreValue.textContent = `ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯ ${score} ç‚¹ ã§ã™ï¼`;

            quizContainer.appendChild(scoreElement);
            quizContainer.appendChild(scoreValue);

            // æº€ç‚¹ã®å ´åˆã®å‡¦ç†
            if (score === quizData.length) {
                document.getElementById('finalPerfectSound').play();
            } else {
                const fullScreenImage = document.createElement('img');
                fullScreenImage.src = 'your-image.jpg'; // ã“ã“ã¯å¤‰æ›´ãªã—
                fullScreenImage.style.position = 'fixed';
                fullScreenImage.style.top = '0';
                fullScreenImage.style.left = '0';
                fullScreenImage.style.width = '100%';
                fullScreenImage.style.height = '100%';
                fullScreenImage.style.zIndex = '1000';
                document.body.appendChild(fullScreenImage);

                // ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã®å‡¦ç†
                fullScreenImage.onclick = () => {
                    fullScreenImage.style.display = 'none'; // ä¸€æ—¦éè¡¨ç¤ºã«ã™ã‚‹

                    // ã™ãã«å†è¡¨ç¤º
                    setTimeout(() => {
                        fullScreenImage.style.display = 'block'; // å†è¡¨ç¤º
                    }, 100); // 100ãƒŸãƒªç§’å¾Œã«è¡¨ç¤º

                    document.getElementById('finalSound').play(); // mac.wav ã‚’ç¹°ã‚Šè¿”ã—å†ç”Ÿ
                };

                // mac.wav ã‚’ç¹°ã‚Šè¿”ã—å†ç”Ÿ
                const macSound = document.getElementById('finalSound');
                macSound.src = 'mac.wav'; // éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ›´
                macSound.loop = true; // ãƒ«ãƒ¼ãƒ—è¨­å®š
                macSound.play();

                // ç”»åƒã¯ä½•åº¦ã‚‚è¡¨ç¤ºå¯èƒ½
                fullScreenImage.style.cursor = 'pointer'; // ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãªã‚«ãƒ¼ã‚½ãƒ«ã‚’è¡¨ç¤º
            }
        }
        
        
    // æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰...



    // æ®‹ã‚Šã®æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰...
</script>

    </script>
</body>
</html>
